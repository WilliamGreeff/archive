---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/lecture.20notes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html">lecture notes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="208998358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/208998358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#208998358">(Sep 03 2020 at 16:58)</a>:</h4>
<p>Hi everybody,</p>
<p>I am using Agda and have been using coq in the past. I am going to get back my formal verification course this autumn and I am planning to switch from Coq to Lean.</p>
<p>What is the best way to write lecture notes including lean code. I have been using literate programming for Agda in the past with latex in the past.<br>
I like the style of the "Theorem proving in Lean", especially being able to include workable examples via the web interface.</p>
<p>Cheers,<br>
Thorsten</p>



<a name="208999576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/208999576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#208999576">(Sep 03 2020 at 17:07)</a>:</h4>
<p>You can copy the setup of "Theorem proving in Lean", the source code is on GitHub. If you prefer to read things in VSCode and do the exercises in VSCode directly (using a local Lean install, you can look at how "Mathematics in Lean" is setup). For a non-interactive version there is <a href="https://leanprover-community.github.io/format_lean/">format_lean</a>.</p>



<a name="209001759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209001759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209001759">(Sep 03 2020 at 17:22)</a>:</h4>
<p>is there a way to have Lean syntax highlighter in LaTeX?</p>



<a name="209002621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209002621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209002621">(Sep 03 2020 at 17:28)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/blob/master/extras/latex/lstlean.md">https://github.com/leanprover-community/lean/blob/master/extras/latex/lstlean.md</a></p>



<a name="209005217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209005217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209005217">(Sep 03 2020 at 17:48)</a>:</h4>
<p>Thank you, Patrick. Actually I prefer using emacs but can move to VSCode if that's better.</p>



<a name="209005286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209005286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209005286">(Sep 03 2020 at 17:49)</a>:</h4>
<p>Actually where on GitHub do I find the source code for the book?</p>



<a name="209009396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209009396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209009396">(Sep 03 2020 at 18:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271218">Thorsten Altenkirch</span> <a href="#narrow/stream/113489-new-members/topic/lecture.20notes/near/209005286">said</a>:</p>
<blockquote>
<p>Actually where on GitHub do I find the source code for the book?</p>
</blockquote>
<p><a href="https://github.com/leanprover/theorem_proving_in_lean">https://github.com/leanprover/theorem_proving_in_lean</a></p>



<a name="209009712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209009712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209009712">(Sep 03 2020 at 18:24)</a>:</h4>
<p><a href="https://github.com/avigad/mathematics_in_lean_source">https://github.com/avigad/mathematics_in_lean_source</a> is the source for MiL, based on similar technology but with a mathlib dependency and more designed for in-editor use.</p>



<a name="209010220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209010220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209010220">(Sep 03 2020 at 18:28)</a>:</h4>
<p>I don't think there's been any work done on integrating the textbook display with emacs. In VSCode you get a Lean window side by side with the text, and the "try it" links open in that Lean window.</p>



<a name="209082163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209082163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209082163">(Sep 04 2020 at 11:29)</a>:</h4>
<p><span class="user-mention" data-user-id="271218">@Thorsten Altenkirch</span>, Gabriel Ebner did most of the Sphinx customization for the tutorials, and it works great. As has been suggested, one option is to copy an existing tutorial (<em>Mathematics in Lean</em> is the most recent) and modify it. If you like to have the feeling of knowing what is going on under the hood, another option is to do a standard Sphinx setup, compare it to an existing tutorial, and then modify the Sphinx setup to match. IIRC, the key additions are these:</p>
<ul>
<li>Gabriel wrote <code>lean_sphinx.py</code> to make it possible to test all the Lean snippets with <code>make leantest</code>.</li>
<li>He modified <code>make.bat</code> to add a procedure to install python and pygments. He also changed the <code>SPHINXBUILD = sphinx-build</code> to <code>SPHINXBUILD = python -msphinx</code>. (At one point I thought I figured out why, but now I don't remember.)</li>
<li>You have to go through the <code>conf.py</code> file and get the settings right. Again, you can do this by comparing line-by-line to e.g. the one in <em>Mathematics in Lean</em>. For example, we use <code>xelatex</code> and the <code>unixode.sty</code> package to handle unicode, and I added some things to the latex preamble. I also tinkered with the fonts and font sizes.</li>
<li>We use the <code>alabaster</code> Sphinx theme, but I made a small modification to the sidebar, in <code>source/_templates</code>. It is just cosmetic.</li>
<li>Gabriel wrote a <code>deploy.sh</code> script to deploy the html. The one in <em>Mathematics in Lean</em> is more complicated than the others, since it also sets up the user version of the repository with copies of all the exercises, so that when they open up an exercise, they can modify it and save it in a local folder. For example, for<code>mathematics_in_lean</code>, the source repository is <code>mathematics_in_lean_source</code>, and we deploy to <code>mathematics_in_lean</code> for both the <code>github.io</code> pages and the user version of the repository. (The arrangement is currently imperfect: if users pull a new version of the repository, it overwrites any work they have done.)</li>
<li>We make the source repository a Lean project (see the <code>leanproject</code> documentation) and install mathlib locally. That way, we can control the versions of Lean and mathlib that users have when they install it on their machine, and we can test the snippets against that version.</li>
</ul>
<p>Use <code>make html</code> to build / test the html, <code>make latexpdf</code> to build / test the latex, and <code>make leantest</code> to test all the snippets. You can deploy it anywhere: <code>deploy foo bar</code> puts it at <code>foo.github.io/bar</code> (assuming you have set that repository to show pages on <code>github.io</code>. The version for <code>mathematics_in_lean</code> also set <code>github/foo/bar</code> to be the user template. (For example, in <code>mathematics_in_lean</code>, the source repository is <code>mathematics_in_lean_source</code>, and we deploy to <code>mathematics_in_lean</code>) I often deploy pages to a separate test repository (like <code>avigad/mathematics_in_lean</code>) just to check them online and make sure everything looks o.k. before deploying again to the official one (<code>leanprover-community/mathematics_in_lean</code>).</p>
<p>Like I said, the system works great. You have to get used to restructured text conventions, but writing, testing, and deploying goes very smoothly.</p>
<p>We can imagine some improvements. For <code>mathematics_in_lean</code>, it would be nice to have longer examples stored in the local repository (and in a github repository for the online version) so that we can quote from them in the text and users can click to jump to the corresponding place in a longer file. So we may be playing around with that over the next few months. But for short, self-contained examples, the snippets work great. You can limit what is displayed in the textbook (for example, to suppress repeated import statements and definitions) by putting them between <code>-- BEGIN</code> and <code>-- END</code> comments, as you'll see frequently done in our tutorials.</p>
<p>One more thing: when users are running VS Code with Lean, they can type <code>Ctrl-Shift P</code> (or <code>Cmd-Shift P</code> on a Mac, I think) to get the menu and then type <code>Lean: Open Documentation View</code>, and that gives them a list of tutorials they can run in the browser. If you want to add yours to the list, you have to add it to the Lean VS Code interface: <a href="https://github.com/leanprover/vscode-lean/blob/master/src/docview.ts#L108-L114">https://github.com/leanprover/vscode-lean/blob/master/src/docview.ts#L108-L114</a>. I think <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> doesn't mind merging a pull request, and I am sure Lean users will be happy to have another tutorial to play with.</p>



<a name="209082883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lecture%20notes/near/209082883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lecture.20notes.html#209082883">(Sep 04 2020 at 11:38)</a>:</h4>
<p>Nobody has mentioned the "wrong way" of doing it, so I'll do so for the record. For the <a href="https://github.com/blanchette/logical_verification_2020/raw/master/hitchhikers_guide.pdf">Hitchhiker's Guide</a>, I used a modified version of Jeremy's <code>lstlean.sty</code> setup, even with the official VSCode colors for syntax highlighting. It's a great setup if you love LaTeX and hate all things web. ;)</p>



{% endraw %}

<hr><p>Last updated: Oct 06 2020 at 10:10 UTC</p>